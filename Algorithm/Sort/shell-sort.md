# 쉘 정렬(Shell Sort)

> 2024.07.18 목요일 수업😎

어머 주먹밥쿵야 수업인데..
반계쿵야도 오셨네요? 수업 신청하셨나요???

- **🥚 반계쿵야:** 아니요

아 그럼 놀러오신건가요?

- **🥚 반계쿵야:** 네~

네 그럼 놀다가세요~~
이번 교시에는 **쉘 정렬(Shell Sort)** 에 대해 알아보려고 해요~ 쿵야 학생은 쉘 정렬에 대해 들어본 적이 있나요?

- **🍙 주먹밥쿵야:** 음… 삽입 정렬의 변형이라는 말을 들어본 것 같은데 자세히는 모르겠어요!!

오 삽입 정렬의 변형이라고 알고 있다니!
지난 시간에 잘 배우고 복습까지 잘했나봐요! 아주 기특해요.
삽입 정렬 선생님이 누구셨죠?

- **🍙 주먹밥쿵야:** 김다솔 선생님이욧!!!!

오오 김다솔 선생님이 쉘 정렬도 알려주셨나요?

- **🍙 주먹밥쿵야:**  앗.. 그건 아닌데.. 그냥 제가 복습하면서 알게 되었어요.

아아 그럼 삽입 정렬은 뭔지 확실히 알고 계시죠?

- **🍙 주먹밥쿵야:** (속닥속닥) 반계야 너가 말해 (속닥속닥)
- **🥚 반계쿵야:** (속닥속닥) 내가 왜.. 난 그냥 놀러왔어 (속닥속닥)

여러분이 적극적으로 참여해주셔야 설명을 더 잘 해드릴 수 있어요.

- **🍙 주먹밥쿵야:** 삽입 정렬은!!!
- **🥚 반계쿵야:** 새로운 값을 정렬된 부분의 적절한 위치에 끼워 넣는 거에요!!!

좋아요! 삽입 정렬에 대해 잘 알고 있네요. 그렇다면 쉘 정렬에 대해 더 자세히 설명해볼게요.
`쉘 정렬`은 `삽입 정렬의 변형`으로, `특정 간격(gap)을 두고 부분 리스트를` 나눈 후 각 부분 리스트를 `삽입 정렬`하는 방식이에요. 
그리고 점차 간격을 줄여가면서 `최종적으로 간격이 1`이 될 때까지 이 과정을 `반복`해요.

쉘 정렬의 핵심은 `초기 간격이 클 때 큰 값들이 빠르게 이동할 수 있어서 삽입 정렬의 성능이 개선`된다는 점이에요.

- **🍙 주먹밥쿵야:** 네?!?

예시를 들어서 설명해드릴게요.

주어진 배열 **[6, 5, 3, 1, 8, 7, 2, 4]**을 쉘 정렬로 정렬해볼게요.

- **🍙 주먹밥쿵야:** 네! 잘 따라갈게요!

쉘 정렬은 특정 간격을 두고 각 간격에 대해 부분 리스트를 삽입 정렬한다고 했죠?
`초기 간격은 배열의 길이의 절반으로 설정`해서 시작해볼게요.

- **🍙 주먹밥쿵야:** 그럼 `4 간격`으로 시작하겠네요.

네~ 맞아요~

1. 초기 간격은 배열의 길이 8의 절반인 4로 시작해볼게요.

```
- 배열:
[6, 5, 3, 1, 8, 7, 2, 4]
 └───────────┘
    └───────────┘
       └───────────┘
          └───────────┘

- 간격 4로 나누면:
[6, 8], [5, 7], [3, 2], [1, 4]

- 각 부분 리스트를 삽입 정렬하면:
[6, 8], [5, 7], [2, 3], [1, 4]

- 전체 배열은 [6, 5, 2, 1, 8, 7, 3, 4]
```

2. 간격을 4에서 2로 줄일게요.

```
- 배열:
[6, 5, 2, 1, 8, 7, 3, 4]

- 간격 2로 나누면:
[6, 2, 8, 3], [5, 1, 7, 4]

- 각 부분 리스트를 삽입 정렬하면:
[2, 3, 6, 8], [1, 4, 5, 7]

- 전체 배열은 [2, 1, 6, 4, 8, 5, 3, 7]
```

3. 간격을 2에서 1로 줄일게요.

```
- 배열:
[2, 1, 6, 4, 8, 5, 3, 7]

- 간격 1로 나누면:
[2, 1, 6, 4, 8, 5, 3, 7]

- 전체 배열을 삽입 정렬하면:
[1, 2, 3, 4, 5, 6, 7, 8]
```

- **🍙 주먹밥쿵야:** 네?!?

주먹밥쿵야 학생의 이해력이 의심되는데요~
쉘 정렬에 대해 마지막으로 정리해드릴게요.

<br/>

## 정리노트
### 쉘 정렬(Shell Sort)

> 간격을 점점 줄여가며 배열을 정렬하는 방식으로, 삽입 정렬의 성능을 개선한 알고리즘입니다.

- 목적: 삽입 정렬의 단점을 보완하여 성능을 개선
- 방법:
	- 1. 초기 간격(gap)을 설정합니다.
	- 2. 설정된 간격에 따라 부분 리스트를 생성하고, 각 부분 리스트를 삽입 정렬합니다.
	- 3. 간격을 줄여가며 위의 과정을 반복합니다.
	- 4. 최종적으로 간격이 1이 되면 전체 배열을 삽입 정렬하여 마무리합니다.
 - 간격 수열: 다양한 수열이 사용될 수 있으며, 대표적으로 Knuth, Hibbard, Sedgewick, Pratt 등의 수열이 있습니다.
 - 시간 복잡도: 평균 O(n^{3/2}) ~ O(n \log^2 n), 최악 O(n^2) (사용된 간격 수열에 따라 다름)

이해가 되셨나요? 더 궁금한 점이 있으면 언제든지 물어보세요!

- **🍙 주먹밥쿵야:** 네?!?

...
